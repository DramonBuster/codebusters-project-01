{"version":3,"sources":["read-more.js"],"names":["charCount","onloadHideText","textElement","hideBtn","text","innerHTML","split","length","limitedText","slice","hiddenText","innerText","outerHTML","querySelector","addEventListener","showText","hideText","parentElement","textElements","document","querySelectorAll","forEach","readMoreBtn"],"mappings":";AAAA,IAAMA,EAAY,IAElB,SAASC,EAAeC,EAAaC,GAC/BC,IAAAA,EAAOF,EAAYG,UAAUC,MAAM,KAAK,GACxCF,GAAAA,EAAKG,OAASP,EAAW,CACvBQ,IAAAA,EAAcJ,EAAKK,MAAM,EAAGT,GAC5BU,EAAaN,EAAKK,MAAMT,GAAY,GACxCG,EAAQQ,UAAY,gBACpBT,EAAYG,UAAeG,GAAAA,OAAAA,EAAiDE,uCAAAA,OAAAA,EAAoBP,WAAAA,OAAAA,EAAQS,WACxGV,EACGW,cAAc,kBACdC,iBAAiB,QAASC,GAAU,IAI3C,SAASC,IACPd,YAAc,KAAKe,cACfb,IAAAA,EAAOF,YAAYG,UAAUC,MAAM,KAAK,GACxCF,GAAAA,EAAKG,OAASP,EAAW,CACvBQ,IAAAA,EAAcJ,EAAKK,MAAM,EAAGT,GAC5BU,EAAaN,EAAKK,MAAMT,GAAY,GACnCW,KAAAA,UAAY,gBACjBT,YAAYG,UAAeG,GAAAA,OAAAA,EAAiDE,uCAAAA,OAAAA,EAAoB,WAAA,OAAA,KAAKE,WACrGV,YACGW,cAAc,kBACdC,iBAAiB,QAASC,GAAU,IAI3C,SAASA,IACPb,YAAc,KAAKe,cACnBP,WAAaR,YAAYW,cAAc,oBAAoBR,UAC3DD,KAAOF,YAAYG,UAAUC,MAAM,SAAS,GAAKI,WAC7CN,KAAKG,OAASP,IACXW,KAAAA,UAAY,SACjBT,YAAYG,UAAeD,GAAAA,OAAAA,MAAO,OAAA,KAAKQ,WACvCV,YACGW,cAAc,kBACdC,iBAAiB,QAASE,GAAU,IAI3C,IAAIE,EAAeC,SAASC,iBAAiB,kBAC7CF,EAAaG,QAAQ,SAACnB,GAChBoB,IAAAA,EAAcpB,EAAYW,cAAc,kBAC5CZ,EAAeC,EAAaoB","file":"read-more.98a351ce.js","sourceRoot":"../src","sourcesContent":["const charCount = 384;\n\nfunction onloadHideText(textElement, hideBtn) {\n  let text = textElement.innerHTML.split(\"<\")[0];\n  if (text.length > charCount) {\n    let limitedText = text.slice(0, charCount);\n    let hiddenText = text.slice(charCount, -1);\n    hideBtn.innerText = \"Читать дальше\";\n    textElement.innerHTML = `${limitedText} ... <span class=\"reviews__hidden\">${hiddenText}</span>${hideBtn.outerHTML}`;\n    textElement\n      .querySelector(\".reviews__link\")\n      .addEventListener(\"click\", showText, true);\n  }\n}\n\nfunction hideText() {\n  textElement = this.parentElement;\n  let text = textElement.innerHTML.split(\"<\")[0];\n  if (text.length > charCount) {\n    let limitedText = text.slice(0, charCount);\n    let hiddenText = text.slice(charCount, -1);\n    this.innerText = \"Читать дальше\";\n    textElement.innerHTML = `${limitedText} ... <span class=\"reviews__hidden\">${hiddenText}</span>${this.outerHTML}`;\n    textElement\n      .querySelector(\".reviews__link\")\n      .addEventListener(\"click\", showText, true);\n  }\n}\n\nfunction showText() {\n  textElement = this.parentElement;\n  hiddenText = textElement.querySelector(\".reviews__hidden\").innerHTML;\n  text = textElement.innerHTML.split(\" ... \")[0] + hiddenText;\n  if (text.length > charCount) {\n    this.innerText = \"Скрыть\";\n    textElement.innerHTML = `${text}${this.outerHTML}`;\n    textElement\n      .querySelector(\".reviews__link\")\n      .addEventListener(\"click\", hideText, true);\n  }\n}\n\nlet textElements = document.querySelectorAll(\".reviews__text\");\ntextElements.forEach((textElement) => {\n  let readMoreBtn = textElement.querySelector(\".reviews__link\");\n  onloadHideText(textElement, readMoreBtn);\n});\n"]}